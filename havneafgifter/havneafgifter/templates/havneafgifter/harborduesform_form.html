{% extends "havneafgifter/base.html" %}

{% load i18n %}
{% load django_bootstrap5 %}

{% block title %}
{% translate "Harbour Dues/Port Tax" %}
{% endblock %}

{% block content %}
<h1>{% translate "Harbour Dues/Port Tax" %}</h1>
<form action="." method="post" class="form">
    {% csrf_token %}
    {{ form.media.css }}
    {{ form.media.js }}
    {% bootstrap_form form %}
    {% bootstrap_button button_type="submit" content=_("Create") %}
</form>
<script nonce="{{request.csp_nonce}}">
    $("[name={{form.vessel_imo.name}}]").on("invalid", function () {
        if (this.validity.tooShort || this.validity.tooLong) {
            this.setCustomValidity("{% translate 'IMO numbers should be 7 digits' %}");
        } else {
            this.setCustomValidity("");
            this.reportValidity();
        }
    });
</script>
{% endblock content %}
