{% extends "havneafgifter/base.html" %}

{% load static %}
{% load i18n %}
{% load csp %}
{% load django_bootstrap5 %}
{% load render_table from django_tables2 %}
{% load media_csp %}

{% block extra_headers %}
<script src="{% static 'tempusdominus/popper.min.js' %}" nonce="{{request.csp_nonce}}"></script>
<script src="{% static 'tempusdominus/tempus-dominus.min.js' %}" nonce="{{request.csp_nonce}}"></script>
<link rel="stylesheet" href="{% static 'tempusdominus/tempus-dominus.min.css' %}" nonce="{{request.csp_nonce}}">
<link rel="stylesheet" href="{% static 'font-awesome/css/all.css' %}" nonce="{{request.csp_nonce}}">
<script src="{% static 'havneafgifter/statistik.js' %}" nonce="{{request.csp_nonce}}"></script>
{% endblock %}

{% block content %}
<h1>{% translate "Statistik" %}</h1>
<form action="" method="get">
    {% csrf_token %}
    {% media_csp form %}
    {% include "havneafgifter/statistik/field_multiselect.html" with field=form.municipality %}
    {% include "havneafgifter/statistik/field_range.html" with field1=form.arrival_gt field2=form.arrival_lt label=_("Ankomst") %}
    {% include "havneafgifter/statistik/field_range.html" with field1=form.departure_gt field2=form.departure_lt label=_("Afrejse") %}
    {% include "havneafgifter/statistik/field_multiselect.html" with field=form.vessel_type %}
    {% include "havneafgifter/statistik/field_multiselect.html" with field=form.site %}
    {% include "havneafgifter/statistik/field_multiselect.html" with field=form.port_of_call %}
    {% bootstrap_button button_type="submit" content=_("SÃ¸g") %}
</form>
{% if form.data %}
{% render_table table %}
{% endif %}
{% endblock %}
